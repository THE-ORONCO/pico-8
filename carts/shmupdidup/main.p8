pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
-- shmupdidup
-- BY THE_ORONCO

#include ship.p8
#include shots.p8
#include vector-math.p8

left,right,up,down,fire1,fire2=0,1,2,3,4,5
black,dark_blue,dark_purple,dark_green,brown,dark_gray,light_gray,white,red,orange,yellow,green,blue,indigo,pink,peach=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15


input = {}


function _init()

end

function _update()
    -- take userinput
    local inputVector = {["x"]=0, ["y"]=0}
    if (btn(left))  inputVector.x -= 1
    if (btn(right)) inputVector.x += 1 
    if (btn(up))    inputVector.y -= 1
    if (btn(down))  inputVector.y += 1  
    

    shots.update()

    -- do stuff according to the user input
    ship.move(normalize(inputVector))
    input = inputVector
end

function _draw()
    cls(black)

    shots.draw()

    ship.draw()
    
    if (btn(fire1)) ship.shoot.normal()
    print(input.x.."/"..input.y)
end

__gfx__
000060600000606000006060000000000000090000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006060000060600000606000000000000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0003606000036060000060600000090000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
003b60b0003b60b0000360b000000a0000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03b7c5b0007c5b30003b7c5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3bb11bb30311bb33033b11b300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03bbbb3000bbbb30003bbb3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
003cc300003cc300003cc30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cc000000cc000000cc000000cc000000cc000000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ccc000000cc000000cc000000ccc00000cc000000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ccc000000cc000000cc000000ccc00000cc000000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cc000000cc000000cc000000cc000000cc000000cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000c00000c00000000c00000c000000000c000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000c000000c000000000000000c00000000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
